/* Mobile Compact V2 - Lists Activation */
/* Only active when compact mobile gate is enabled */
html[data-compact-mobile-v1="true"] [data-page="lists"] {
  /* Reduce vertical rhythm gaps using tokens */
  .space-y-0 {
    gap: var(--space-2, 8px);
  }
  
  /* Ensure card rows don't collide with bottom nav */
  padding-bottom: max(var(--space-4, 16px), env(safe-area-inset-bottom));
  
  /* Tighten TabCard text clamps */
  .tab-card-title {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    line-height: 1.3;
    max-height: calc(1.3em * 2); /* 2 lines */
  }
  
  .tab-card-subline {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
    line-height: 1.2;
    max-height: 1.2em; /* 1 line */
  }
  
  /* Normalize poster dimensions with tokens */
  .tab-card-poster,
  .tab-card img {
    width: var(--poster-w, 136px);
    height: var(--poster-h, calc(var(--poster-w, 136px) * 1.5));
    object-fit: cover;
    border-radius: var(--radius, 12px);
  }
  
  /* Integrate SwipeRow spacing */
  .swipe-row-container {
    margin-bottom: var(--space-2, 8px);
  }
  
  .swipe-row-content {
    padding: var(--space-2, 8px);
  }
  
  .swipe-row-actions {
    padding: var(--space-2, 8px);
    gap: var(--space-2, 8px);
  }
  
  /* Action surfaces alignment - hide legacy per-row inline buttons */
  .tab-card .actions .mobile-actions {
    display: none !important;
  }
  
  .tab-card .actions .desktop-actions {
    display: none !important;
  }
  
  /* Keep compact actions visible */
  .compact-actions-container {
    display: block;
  }
  
  /* Empty states - ensure they don't get crushed */
  .empty-state {
    min-height: 200px;
    padding: var(--space-6, 24px) var(--space-4, 16px);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
  }
  
  .empty-state p {
    margin-bottom: var(--space-2, 8px);
    font-size: var(--font-md, 14.5px);
    line-height: 1.4;
  }
  
  .empty-state .text-xs {
    font-size: var(--font-sm, 13px);
    line-height: 1.3;
  }
  
  /* List page header adjustments */
  .list-header {
    margin-bottom: var(--space-3, 12px);
  }
  
  .list-header h1 {
    font-size: var(--font-lg, 16.5px);
    margin-bottom: var(--space-2, 8px);
  }
  
  /* Tag controls spacing */
  .tag-controls {
    gap: var(--space-2, 8px);
    margin-bottom: var(--space-3, 12px);
  }
  
  .tag-controls label {
    font-size: var(--font-sm, 13px);
  }
  
  .tag-controls select {
    padding: var(--space-1, 4px) var(--space-2, 8px);
    font-size: var(--font-sm, 13px);
  }
  
  /* Card grid adjustments for MyLists */
  .grid {
    gap: var(--space-3, 12px);
  }
  
  /* List selector adjustments */
  .list-selector {
    margin-bottom: var(--space-4, 16px);
  }
  
  .list-selector .flex-wrap {
    gap: var(--space-2, 8px);
  }
  
  .list-selector button {
    padding: var(--space-2, 8px) var(--space-3, 12px);
    font-size: var(--font-sm, 13px);
  }
  
  /* Scroll to top arrow positioning */
  .scroll-to-top {
    bottom: max(var(--space-4, 16px), env(safe-area-inset-bottom));
    right: var(--space-4, 16px);
  }
}

/* Mobile-specific adjustments */
@media (max-width: 767px) {
  html[data-compact-mobile-v1="true"] [data-page="lists"] {
    /* Additional mobile spacing adjustments */
    .space-y-0 {
      gap: var(--space-1, 4px);
    }
    
    /* Tighter mobile spacing */
    .list-header {
      margin-bottom: var(--space-2, 8px);
    }
    
    .tag-controls {
      margin-bottom: var(--space-2, 8px);
    }
    
    /* Mobile poster adjustments */
    .tab-card-poster,
    .tab-card img {
      width: var(--poster-w, 136px);
      height: var(--poster-h, calc(var(--poster-w, 136px) * 1.5));
    }
    
    /* Mobile empty state */
    .empty-state {
      min-height: 150px;
      padding: var(--space-4, 16px) var(--space-3, 12px);
    }
  }
}

/* Dark mode adjustments */
@media (prefers-color-scheme: dark) {
  html[data-compact-mobile-v1="true"] [data-page="lists"] {
    .tab-card-poster,
    .tab-card img {
      border: 1px solid var(--line, #333333);
    }
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  html[data-compact-mobile-v1="true"] [data-page="lists"] {
    .tab-card-poster,
    .tab-card img {
      border: 2px solid var(--line, #000000);
    }
    
    .empty-state {
      border: 1px solid var(--line, #000000);
      border-radius: var(--radius, 12px);
    }
  }
}








