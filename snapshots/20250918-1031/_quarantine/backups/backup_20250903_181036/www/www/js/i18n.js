/* ============== Internationalization (i18n) ============== */

const I18N = {
  en: {
    go_dark: "🌙 Go Dark",
    go_light: "☀️ Go Light",
    app_title: "Flicklet",
    subtitle: "TV & Movie Tracker",
    binge_total: "Total Binge Time",
    currently_watching: "Currently Watching",
    want_to_watch: "Want to Watch",
    already_watched: "Already Watched",
    streaming_on: "Streaming",
    clear: "Clear",
    series_complete: "Series Complete",
    coming_soon: "Coming Soon",
    currently_airing: "Currently Airing",
    next: "Next",
    last: "Last",
    start: "Start",
    because_you_liked: "Because you liked",
    search_placeholder: "Search for shows or movies...",
    search_tips: "Search tips: Use * for wildcards (e.g., \"marvel*\" for Marvel shows)",
    welcome_message: "Welcome to Flicklet! Start by searching for a show or movie you love.",
    all_genres: "All Genres",
    search: "Search",
    notes_tags: "Notes/Tags",
    remove: "Remove",
    your_rating: "Your Rating",
    welcome_title: "Welcome! What should we call you?",
    welcome_subtitle: "This will personalize your headers and stats.",
    display_name: "Display name",
    save: "Save",
    sign_in_title: "Sign in to sync",
    sign_in_subtitle: "Sign in to back up your lists and sync across devices.",
    continue_google: "Continue with Google",
    email_signin: "Email Sign-In",
    sign_out: "Sign Out",
    home: "Home",
    discover: "Discover",
    settings: "Settings",
    no_items: "No items.",
    no_description: "No description.",
    already_in_list: "Already in {list}.",
    moved_to: "Moved to {list}.",
    added_to: "Added to {list}.",
    feedback: "Share Your Thoughts",
    feedback_placeholder: "Share your thoughts, feedback, quotes, confessions, or just vent here...",
    send: "Share It!",
    search_results: "Search Results",
    no_results: "No results",
    searching: "Searching...",
    advanced: "Advanced",
    search_failed: "Search failed",
    search_results_cleared: "Search results cleared due to language change.",
    please_search_again: "Please search again to see results in the new language.",
    episode_alerts: "Episode alerts",
    weekly_discover: "Weekly discover picks",
    monthly_digest: "Monthly stats digest",
    backup_import: "Backup & Import",
    nuclear_option: "Nuclear Option",
    share_this_list: "Share This List",
    share_selected: "Select Items to Share",
    share_link: "Share link",
    share_instructions: "Click to select which shows and movies to share",
    choose_file: "Choose File",
    no_file_chosen: "No file chosen",
    upcoming_episode: "Upcoming episode",
    welcome: "Welcome",
    theme: "Theme",
    theme_description: "Switch between different visual themes for the app.",
    mardi_gras_mode: "Mardi Gras mode",
    sign_in_account: "Sign in / Account",
    language: "Language",
    search_for_shows: "Search for shows or movies...",
    currently_watching_count: "Currently Watching",
    want_to_watch_count: "Want to Watch",
    already_watched_count: "Already Watched",
    discover_description: "Recommendations based on your likes and ratings.",
    settings_description: "Application settings",
    display_name_placeholder: "Display name",
    save_name: "Save",
    pro_simulate: "Pro (simulate)",
    notifications: "Notifications",
    stats: "Stats",
    total_items: "Total items",
    watching_count: "Watching",
    wishlist_count: "Wishlist",
    watched_count: "Watched",
    top_genres: "Top Genres",
    average_rating: "Average Rating",
    loading: "Loading...",
    failed_to_load: "Failed to load",
    not_enough_signals: "Not enough signals yet. Like or rate a few items first.",
    recommendations_failed: "Failed to load recommendations."
  },
  es: {
    go_dark: "🌙 Modo Oscuro",
    go_light: "☀️ Modo Claro",
    app_title: "Flicklet",
    subtitle: "Rastreador de TV y Películas",
    binge_total: "Tiempo Total de Maratón",
    currently_watching: "Viendo Actualmente",
    want_to_watch: "Quiero Ver",
    already_watched: "Ya Visto",
    streaming_on: "Transmitiendo",
    clear: "Limpiar",
    series_complete: "Serie Completa",
    coming_soon: "Próximamente",
    currently_airing: "Transmitiéndose Actualmente",
    next: "Siguiente",
    last: "Último",
    start: "Comenzar",
    because_you_liked: "Porque te gustó",
    search_placeholder: "Buscar series o películas...",
    search_tips: "Consejos de búsqueda: Usa * para comodines (ej., \"marvel*\" para series de Marvel)",
    welcome_message: "¡Bienvenido a Flicklet! Comienza buscando una serie o película que te guste.",
    all_genres: "Todos los Géneros",
    search: "Buscar",
    notes_tags: "Notas/Etiquetas",
    remove: "Eliminar",
    your_rating: "Tu Calificación",
    welcome_title: "¡Bienvenido! ¿Cómo deberíamos llamarte?",
    welcome_subtitle: "Esto personalizará tus encabezados y estadísticas.",
    display_name: "Nombre de pantalla",
    save: "Guardar",
    sign_in_title: "Inicia sesión para sincronizar",
    sign_in_subtitle: "Inicia sesión para respaldar tus listas y sincronizar entre dispositivos.",
    continue_google: "Continuar con Google",
    email_signin: "Inicio de Sesión por Email",
    sign_out: "Cerrar Sesión",
    home: "Inicio",
    discover: "Descubrir",
    settings: "Configuración",
    no_items: "No hay elementos.",
    no_description: "Sin descripción.",
    already_in_list: "Ya está en {list}.",
    moved_to: "Movido a {list}.",
    added_to: "Agregado a {list}.",
    feedback: "Comparte Tus Pensamientos",
    feedback_placeholder: "Comparte tus pensamientos, comentarios, citas, confesiones o simplemente desahógate aquí...",
    send: "¡Compártelo!",
    search_results: "Resultados de Búsqueda",
    no_results: "Sin resultados",
    searching: "Buscando...",
    advanced: "Avanzado",
    search_failed: "Búsqueda fallida",
    search_results_cleared: "Resultados de búsqueda limpiados debido al cambio de idioma.",
    please_search_again: "Por favor busca nuevamente para ver resultados en el nuevo idioma.",
    episode_alerts: "Alertas de episodios",
    weekly_discover: "Descubrimientos semanales",
    monthly_digest: "Resumen mensual de estadísticas",
    backup_import: "Respaldo e Importación",
    nuclear_option: "Opción Nuclear",
    share_this_list: "Compartir Esta Lista",
    share_selected: "Seleccionar Elementos para Compartir",
    share_link: "Compartir enlace",
    share_instructions: "Haz clic para seleccionar qué series y películas compartir",
    choose_file: "Elegir Archivo",
    no_file_chosen: "Ningún archivo elegido",
    upcoming_episode: "Episodio próximo",
    welcome: "Bienvenido",
    theme: "Tema",
    theme_description: "Cambiar entre diferentes temas visuales para la aplicación.",
    mardi_gras_mode: "Modo Mardi Gras",
    sign_in_account: "Iniciar sesión / Cuenta",
    language: "Idioma",
    search_for_shows: "Buscar series o películas...",
    currently_watching_count: "Viendo Actualmente",
    want_to_watch_count: "Quiero Ver",
    already_watched_count: "Ya Visto",
    discover_description: "Recomendaciones basadas en tus gustos y calificaciones.",
    settings_description: "Configuración de la aplicación",
    display_name_placeholder: "Nombre de pantalla",
    save_name: "Guardar",
    pro_simulate: "Pro (simular)",
    notifications: "Notificaciones",
    stats: "Estadísticas",
    total_items: "Total de elementos",
    watching_count: "Viendo",
    wishlist_count: "Lista de Deseos",
    watched_count: "Visto",
    top_genres: "Géneros Principales",
    average_rating: "Calificación Promedio",
    loading: "Cargando...",
    failed_to_load: "Error al cargar",
    not_enough_signals: "Aún no hay suficientes señales. Dale like o califica algunos elementos primero.",
    recommendations_failed: "Error al cargar recomendaciones."
  }
};

// Translation function
function t(key, lang = 'en') {
  const translations = I18N[lang] || I18N.en;
  return translations[key] || key;
}

// Apply translations to the page
function applyTranslations(lang = 'en') {
  const elements = document.querySelectorAll('[data-i18n]');
  elements.forEach(el => {
    const key = el.getAttribute('data-i18n');
    const translation = t(key, lang);
    if (translation) {
      el.textContent = translation;
    }
  });
}

// Make functions globally accessible
if (typeof window !== 'undefined') {
  window.I18N = I18N;
  window.t = t;
  window.applyTranslations = applyTranslations;
}

// Export for use in other modules
if (typeof module !== 'undefined' && module.exports) {
  module.exports = { I18N, t, applyTranslations };
}

