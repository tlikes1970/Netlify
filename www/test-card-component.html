<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card Component Test</title>
    <link rel="stylesheet" href="styles/components.css">
    <style>
        body { 
            padding: 20px; 
            font-family: Arial, sans-serif;
            background: #f5f5f5;
        }
        .test-container {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }
        .test-section {
            margin-bottom: 30px;
        }
        .test-section h3 {
            margin-bottom: 15px;
            color: #333;
        }
    </style>
</head>
<body>
    <h1>Card Component Test</h1>
    
    <div class="test-section">
        <h3>Compact Cards (Home rows)</h3>
        <div class="test-container" id="compact-cards"></div>
    </div>
    
    <div class="test-section">
        <h3>Expanded Cards (Lists)</h3>
        <div class="test-container" id="expanded-cards"></div>
    </div>

    <!-- Load scripts -->
    <script src="js/flags.js"></script>
    <script src="js/i18n.js"></script>
    <script src="scripts/components/Card.js"></script>
    
    <script>
        // Set up feature flags
        window.FLAGS = window.FLAGS || {};
        window.FLAGS.cards_v2 = true;
        
        // Set up i18n
        window.t = function(key) {
            const translations = {
                'more_actions': 'More actions',
                'continue': 'Continue',
                'add': 'Add',
                'notes_tags': 'Notes/Tags',
                'remove': 'Remove'
            };
            return translations[key] || key;
        };
        
        // Test data
        const testItems = [
            {
                id: 1,
                title: "Breaking Bad",
                subtitle: "2008 ‚Ä¢ TV Series",
                posterUrl: "https://image.tmdb.org/t/p/w200/ggFHVNu6YYI5L9pCfOacjizRGt.jpg",
                rating: 4.5,
                badges: [{ label: "Currently Watching", kind: "status" }]
            },
            {
                id: 2,
                title: "The Office",
                subtitle: "2005 ‚Ä¢ TV Series", 
                posterUrl: "https://image.tmdb.org/t/p/w200/7DJKHzAi4y7b4tGfvFfawdQqrm.jpg",
                rating: 4.2,
                badges: [{ label: "Next Up", kind: "status" }]
            },
            {
                id: 3,
                title: "Inception",
                subtitle: "2010 ‚Ä¢ Movie",
                posterUrl: "https://image.tmdb.org/t/p/w200/9gk7adHYeDvHkCSEqAvQNLV5Uge.jpg",
                rating: 4.8,
                badges: []
            }
        ];
        
        // Wait for Card component to load
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üé¥ Card component available:', !!window.Card);
            console.log('üé¥ Feature flag enabled:', !!window.FLAGS?.cards_v2);
            
            if (window.Card) {
                // Test compact cards
                const compactContainer = document.getElementById('compact-cards');
                testItems.forEach(item => {
                    const card = window.Card({
                        variant: 'compact',
                        id: item.id,
                        posterUrl: item.posterUrl,
                        title: item.title,
                        subtitle: item.subtitle,
                        rating: item.rating,
                        badges: item.badges,
                        primaryAction: {
                            label: 'Continue',
                            onClick: () => console.log('Continue clicked for:', item.title)
                        },
                        overflowActions: [
                            {
                                label: 'Notes/Tags',
                                onClick: () => console.log('Notes clicked for:', item.title),
                                icon: 'üìù'
                            },
                            {
                                label: 'Remove',
                                onClick: () => console.log('Remove clicked for:', item.title),
                                icon: 'üóëÔ∏è'
                            }
                        ],
                        onOpenDetails: () => console.log('Details clicked for:', item.title)
                    });
                    compactContainer.appendChild(card);
                });
                
                // Test expanded cards
                const expandedContainer = document.getElementById('expanded-cards');
                testItems.forEach(item => {
                    const card = window.Card({
                        variant: 'expanded',
                        id: item.id,
                        posterUrl: item.posterUrl,
                        title: item.title,
                        subtitle: item.subtitle,
                        rating: item.rating,
                        badges: item.badges,
                        primaryAction: {
                            label: 'Add',
                            onClick: () => console.log('Add clicked for:', item.title)
                        },
                        overflowActions: [
                            {
                                label: 'Notes/Tags',
                                onClick: () => console.log('Notes clicked for:', item.title),
                                icon: 'üìù'
                            },
                            {
                                label: 'Remove',
                                onClick: () => console.log('Remove clicked for:', item.title),
                                icon: 'üóëÔ∏è'
                            }
                        ],
                        onOpenDetails: () => console.log('Details clicked for:', item.title)
                    });
                    expandedContainer.appendChild(card);
                });
                
                console.log('‚úÖ Card component test completed');
            } else {
                console.error('‚ùå Card component not available');
            }
        });
    </script>
</body>
</html>

