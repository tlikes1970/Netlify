<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desktop Card Layout Test</title>
    <link rel="stylesheet" href="styles/components.css?v=desktop-fix3">
    <link rel="stylesheet" href="styles/mobile.css?v=mp2.2c">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-title {
            color: #333;
            margin-bottom: 15px;
        }
        .debug-info {
            background: #f0f0f0;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 12px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>Desktop Card Layout Test</h1>
        
        <div class="debug-info" id="debugInfo">
            Loading debug info...
        </div>
        
        <div class="test-section">
            <h2 class="test-title">Desktop Cards (should be 2-column grid: poster | details+actions)</h2>
            <div id="desktopCards" class="list-container">
                <!-- Cards will be generated here -->
            </div>
        </div>
        
        <div class="test-section">
            <h2 class="test-title">Mobile Cards (should be 3-column grid: poster | details | actions)</h2>
            <div id="mobileCards" class="list-container">
                <!-- Cards will be generated here -->
            </div>
        </div>
    </div>

    <script>
        // Debug info
        function updateDebugInfo() {
            const viewportWidth = window.innerWidth;
            const isMobileDevice = /iPhone|iPad|iPod|Android|Mobile|BlackBerry|IEMobile|Opera Mini|webOS|Windows Phone/i.test(navigator.userAgent);
            const isMobileSize = viewportWidth <= 640;
            const hasMobileClass = document.body.classList.contains('mobile-v1');
            
            document.getElementById('debugInfo').innerHTML = `
                Viewport Width: ${viewportWidth}px<br>
                Is Mobile Device: ${isMobileDevice}<br>
                Is Mobile Size (‚â§640px): ${isMobileSize}<br>
                Has mobile-v1 class: ${hasMobileClass}<br>
                Expected Layout: ${hasMobileClass ? '3-column mobile' : '2-column desktop'}
            `;
        }
        
        // Create test card data
        const testShow = {
            id: 12345,
            name: "Test Show",
            overview: "This is a test show with a longer description to see how the layout handles text wrapping and spacing in both desktop and mobile views.",
            poster_path: "/test-poster.jpg",
            vote_average: 8.5,
            first_air_date: "2023-01-01",
            media_type: "tv",
            networks: [{ name: "Test Network" }]
        };
        
        // Create show card function (simplified version)
        function createTestCard(item, isMobile = false) {
            const card = document.createElement("div");
            card.className = "show-card";
            card.setAttribute("data-id", item.id);
            
            const posterHtml = `<button class="poster-button" data-action="open" data-id="${item.id}">
                <div class="poster-placeholder">No Image</div>
            </button>`;
            
            const actions = `
                <div class="show-actions">
                    <button class="btn">‚ñ∂Ô∏è Watching</button>
                    <button class="btn">üìñ Wishlist</button>
                    <button class="btn">‚úÖ Watched</button>
                    <button class="btn danger">üóëÔ∏è Remove</button>
                </div>
            `;
            
            card.innerHTML = `
                ${posterHtml}
                <div class="show-details">
                    <h4 class="show-title">
                        <button class="btn-link" data-action="open" data-id="${item.id}">
                            ${item.name} <span aria-hidden="true" style="opacity:.6">üîó</span>
                        </button>
                    </h4>
                    <div class="show-meta">‚≠ê ${item.vote_average} ‚Ä¢ ${item.first_air_date.split('-')[0]} ‚Ä¢ TV</div>
                    <div class="show-overview">${item.overview}</div>
                    ${actions}
                </div>
            `;
            
            return card;
        }
        
        // Generate test cards
        function generateTestCards() {
            const desktopContainer = document.getElementById('desktopCards');
            const mobileContainer = document.getElementById('mobileCards');
            
            // Clear existing cards
            desktopContainer.innerHTML = '';
            mobileContainer.innerHTML = '';
            
            // Generate 3 test cards for each view
            for (let i = 0; i < 3; i++) {
                const testItem = { ...testShow, id: testShow.id + i, name: `${testShow.name} ${i + 1}` };
                
                // Desktop cards (no mobile class)
                const desktopCard = createTestCard(testItem, false);
                desktopContainer.appendChild(desktopCard);
                
                // Mobile cards (with mobile class)
                const mobileCard = createTestCard(testItem, true);
                mobileCard.classList.add('mobile-v1');
                mobileContainer.appendChild(mobileCard);
            }
        }
        
        // Initialize
        updateDebugInfo();
        generateTestCards();
        
        // Update on resize
        window.addEventListener('resize', () => {
            updateDebugInfo();
        });
        
        // Force mobile class for mobile test section
        document.getElementById('mobileCards').classList.add('mobile-v1');
    </script>
</body>
</html>


